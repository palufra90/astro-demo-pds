---
interface Props {
  sections: {
    name: string; 
    description: string;
  }[];
}
const { sections } = Astro.props;
---
{sections?.map((section)=> (
  <p-accordion heading={section.name} heading-tag="h3" class="narrow">
    <p-text>{section.description}</p-text>
  </p-accordion>
))}


<script>
  const accordions = document.querySelectorAll('p-accordion');
  accordions.forEach((accordion) =>
    accordion.addEventListener('update', (e:any) => {
      e.target.open = e.detail.open;
    })
  );
</script>
